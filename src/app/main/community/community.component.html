<div class="community-container">
    <div class="community-header">
        <div class="community-name">
            {{ community?.contract?.name }}
        </div>
        <div class="community-icons" *ngIf="isMember">
            <div [ngClass]="{ 'selected': subpage == Subpage.VERIFICATION }"
                class="material-symbols-outlined community-icon" (click)="subpage = Subpage.VERIFICATION">fingerprint</div>
            <div [ngClass]="{ 'selected': subpage == Subpage.MEMBERS }"
                class="community-icon" (click)="subpage = Subpage.MEMBERS"><img src="assets/members.svg" /></div>
            <div [ngClass]="{ 'selected': subpage == Subpage.DELIBERATION }"
                class="community-icon" (click)="subpage = Subpage.DELIBERATION"><img src="assets/deliberate.svg" /></div>
            <div [ngClass]="{ 'selected': subpage == Subpage.SHARE }"
                class="material-symbols-outlined community-icon" (click)="subpage = Subpage.SHARE">share</div>
        </div>
    </div>
    <app-unverified class="community-content" *ngIf="subpage == Subpage.UNVERIFIED" [communityId]="communityId"/>
    <app-members class="community-content" *ngIf="subpage == Subpage.MEMBERS" [communityId]="communityId"/>
    <app-verification class="community-content" *ngIf="subpage == Subpage.VERIFICATION" [communityId]="communityId"/>
    <ng-container *ngIf="subpage == Subpage.DELIBERATION">
        <app-deliberation class="community-content"  *ngIf="isChatting"
            [contractId]="community?.properties?.deliberation"
            [communityId]="communityId" />
        <div *ngIf="!isChatting" class="centered-button-parent">
            <div *ngIf="!isMember">Get authenticated in the community to join the discussion</div>
            <button *ngIf="isMember" class="centered-button" (click)="joinDelib()" [disabled]="isJoining">Click to join the discussion</button>
        </div>
    </ng-container>
    <app-share class="community-content" *ngIf="subpage == Subpage.SHARE" [contractId]="communityId || ''"/>
</div>