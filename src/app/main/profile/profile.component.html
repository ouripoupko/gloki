<div class="profile-wrapper">
  <div class="profile-container">
    <div class="profile-photo">
      <div *ngIf="isEdit" class="file-upload">
        <input type="file" (change)="onFileSelected($event)" accept="image/*">
        <div *ngIf="!userPhoto" class="upload-text">Add your photo</div>
        <img *ngIf="userPhoto" [src]="userPhoto" alt="Profile Photo">
      </div>
      <img *ngIf="!isEdit" [src]="userPhoto" alt="Profile Photo">
    </div>
    <div class="profile-info">
      <div *ngIf="isEdit" class="edit-mode">
        <div class="form-field">
          <input type="text" [(ngModel)]="profileService.profile.first_name" placeholder="first name">
          <label>first name</label>
        </div>
        <div class="form-field">
          <input type="text" [(ngModel)]="profileService.profile.last_name" placeholder="last name">
          <label>last name</label>
        </div>
        <button [disabled]="!isFormValid" (click)="saveProfile()">Save</button>
      </div>
      <div *ngIf="!isEdit" class="info-mode">
        <div class="info-field">
          <span>{{ profileService.profile.first_name }}</span>
          <label>First Name</label>
        </div>
        <div class="info-field">
          <span>{{ profileService.profile.last_name }}</span>
          <label>Last Name</label>
        </div>
        <button (click)="editProfile()">Edit</button>
      </div>
    </div>
    <a routerLink="/main/communities" replaceUrl>
      <img src="assets/x.svg">
    </a>
  </div>
  <div class="information">
    <button (click)="viewGlokiInfo()">View gloKi</button>
    <button (click)="viewIbcInfo()">View IBC address</button>
  </div>
  <div class="description" *ngIf="isEdit">
    <p class="big-p">
      Completing your profile will allow others to verify you.
    </p>
    <p class="small-p">
      In gloKi communities, people view photos of each other during live video calls to verify that the person in the photo is the person in the call. 
    </p>
    <p class="small-p">
      The verification process will automatically start when you join a community. 
    </p>
  </div>
</div>
